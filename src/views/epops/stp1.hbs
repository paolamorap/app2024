<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/estilos_datos.css">
    <title>Prioridad STP del Switch</title>
</head>
<body>
    <div class="container">
        <h1 class="titulo">Prioridad STP del Switch</h1>
        

        <form id="stpPriority-form" class="form">
            
            <label for="ip">Direcciones IP</label>
            <input type="text" id="ip" name="ip" placeholder="Ejemplo: 192.168.1.1" required>

            <label for="marca">Modelo del dispositivo</label>
            <select id="marca" name="marca" required class="form-control" onchange="mostrarCampoModoSTPPrioridad(this.value)">
                <option value="">Seleccione...</option>
                <option value="HPA5120">HP A5120</option>
                <option value="HPV1910">HP V1910</option>
                <option value="3COM">3COM BASELINE</option>
                <option value="TPLINK">TP-LINK</option>
                <option value="CISCO">CISCO</option>
            </select>

            <div id="campoModoStpPriority" style="display: none;">
                <label for="modoSTP">Modo STP Implementado</label>
                <select id="modoSTP" name="modoSTP" class="form-control" >
                    <option value="">Seleccione...</option>
                    <option value="pvst">PVSTP</option>
                    <option value="rstp">RSTP</option>
                    <option value="mstp">MSTP</option>
                </select>
            </div>

            <div id="campoIntanciaStpPriority" style="display: none;">
                <label for="instance">Numero de instance</label>
                <input type="number" id="instance" name="instance" placeholder="Ingrese el numero de la intance">
            </div>

            <div id="campoVlanStpPriority" style="display: none;">
                <label for="vlan">Numero de la VLAN</label>
                <input type="number" id="vlan" name="vlan" placeholder="Ingrese el numero de VLAN">
            </div>

            <label for="prioridad">Prioridad</label>
            <input type="number" id="prioridad" name="prioridad" placeholder="Rango: 0 - 61 440 " required>
        
            <label for="user">Usuario</label>
            <input type="text" id="user" name="user" placeholder="Usuario" required>
            
            <label for="password">Contraseña</label>
            <input type="password" id="password" name="password" placeholder="Contraseña" required>
            
            <button type="submit" class="btn">Configurar</button>

            
        </form>
        <!-- Mensaje de respuesta -->
        <div id="message-container" class="message-container"></div>
        
    </div>
    <script>
        function mostrarCampoModoSTPPrioridad() {
            var marcaSeleccionada = document.getElementById('marca').value;
            var campoModoStpPriority = document.getElementById('campoModoStpPriority');
            var campoVlanStpPriority = document.getElementById('campoVlanStpPriority');
            var campoIntanciaStpPriority = document.getElementById('campoIntanciaStpPriority');
            var modoSTP = document.getElementById('modoSTP').value;

            // Esconder todos los campos primero
            campoModoStpPriority.style.display = 'none';
            campoVlanStpPriority.style.display = 'none';
            campoIntanciaStpPriority.style.display = 'none';

            // Lógica para mostrar campos basada en la marca seleccionada y modoSTP
            if (['HPV1910', '3COM', 'HPA5120'].includes(marcaSeleccionada)) {
                campoModoStpPriority.style.display = 'block';
                if (modoSTP === 'mstp') {
                    campoIntanciaStpPriority.style.display = 'block';
                } else if (modoSTP === 'rstp'){
                    campoVlanStpPriority2.style.display = 'block';
                }
            } else if (['CISCO', 'TPLINK'].includes(marcaSeleccionada)) {
                campoModoStpPriority.style.display = 'none';
                campoVlanStpPriority.style.display = 'block';
            }
        }

        // Asegúrate de que el listener está bien configurado
       /* document.getElementById('marca').addEventListener('change', mostrarCampoModoSTPPrioridad);
        document.getElementById('modoSTP').addEventListener('change', function() {
            if (document.getElementById('campoModoStpPriority').style.display !== 'none') {
                mostrarCampoModoSTPPrioridad();
            }
        });*/

    </script>
    <script src="/js/formularios.js"></script>
</body>
</html>