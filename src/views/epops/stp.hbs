<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/estilos_datos.css">
    <title>Habilitar STP</title>
</head>
<body>
    <div class="container">
        <h1 class="titulo">Habilitar STP</h1>
        
        <form id="stpActive-form" class="form">
            <label for="ip">Direcciones IP</label>
            <input type="text" id="ip" name="ip" placeholder="Ejemplo: 192.168.1.1, 192.168.1.2, ..." required>

            <label for="marca">Modelo del dispositivo</label>
            <select id="marca" name="marca" required class="form-control" onchange="actualizarModoSTP()">
                <option value="">Seleccione...</option>
                <option value="HPA5120">HP A5120</option>
                <option value="HPV1910">HP V1910</option>
                <option value="3COM">3COM BASELINE</option>
                <option value="TPLINK">TP-LINK</option>
                <option value="CISCO">CISCO</option>
            </select>

            <label for="modoSTP">Modo</label>
            <select id="modoSTP" name="modoSTP" required class="form-control" onchange="mostrarCampoRegion1(this.value)">
                <option value="">Seleccione...</option>
            </select>

            <div id="campoRegionMSTP" style="display: none;">
                <label for="regionMSTP">Nombre de la Región MSTP</label>
                <input type="text" id="regionMSTP" name="regionMSTP" placeholder="Nombre de la región MSTP">
            </div>
            
            <div id="campoVlanID" style="display: none;">
                <label for="vlanID">ID VLAN</label>
                <input type="number" id="vlanID" name="vlanID" placeholder="Ingrese el ID VLAN">
            </div>

            <label for="user">Usuario</label>
            <input type="text" id="user" name="user" placeholder="Usuario" required>
            
            <label for="password">Contraseña</label>
            <input type="password" id="password" name="password" placeholder="Contraseña" required>
            
            <button type="submit" class="btn">Configurar</button>
        </form>
        <!-- Mensaje de respuesta -->
        <div id="message-container" class="message-container"></div>
    </div>
    <script>
        function actualizarModoSTP() {
            var marcaSeleccionada = document.getElementById('marca').value;
            var modoSTP = document.getElementById('modoSTP');

            // Limpiar las opciones del select de modoSTP
            modoSTP.innerHTML = '<option value="">Seleccione...</option>';

            // Agregar opciones al select de modoSTP basado en la marca seleccionada
            if (marcaSeleccionada === 'CISCO' || marcaSeleccionada === 'TPLINK') {
                modoSTP.innerHTML += '<option value="stp">STP</option>';
                modoSTP.innerHTML += '<option value="rstp">RSTP</option>';
                modoSTP.innerHTML += '<option value="mstp">MSTP</option>';
                
            } else {
                modoSTP.innerHTML += '<option value="stp">STP</option>';
                modoSTP.innerHTML += '<option value="rstp">RSTP</option>';
                modoSTP.innerHTML += '<option value="pvst">PVST</option>';
                modoSTP.innerHTML += '<option value="mstp">MSTP</option>';
            }
        }

        function mostrarCampoRegion1(modo) {
            var campoRegionMSTP = document.getElementById('campoRegionMSTP');
            var campoVlanID = document.getElementById('campoVlanID');

            // Esconder todos los campos primero
            campoRegionMSTP.style.display = 'none';
            campoVlanID.style.display = 'none';

            // Mostrar campos basados en la selección del modo STP
            if (modo === 'mstp') {
                campoRegionMSTP.style.display = 'block';
            } else if (modo === 'pvst') {
                campoVlanID.style.display = 'none';
            }
        }
    </script>
    <script src="/js/formularios.js"></script>
</body>
</html>
